{%- liquid
  comment
    Renders an image block.

    Required parameters:
      - block: { Object } The associated block object.

    Optional parameters:
      - animate: { Boolean } Apply animation class to potentially animate
      - alignment: { String } The block's horizontal alignment, may be needed if not using the content-blocks snippet.
        Can be:
        - "left"
        - "center"
        - "right"
  endcomment

  assign block_classes = 'content-block content-block--image content-blocks--alignment-[[alignment]]'
  assign block_classes = block_classes | replace: '[[alignment]]', alignment

  if animate
    assign block_classes = block_classes | append: ' animation-content'
  endif

  assign image_size_px = block.settings.image_size | append: 'px'
  assign image_size_mobile_px = block.settings.image_size_mobile | append: 'px'

  capture image_sizes
    render 'sizes', desktop_width: image_size_px, mobile_width: image_size_mobile_px
  endcapture
-%}

<div
  class="{{ block_classes }}"

  {{ block.shopify_attributes }}
>
  <div class="image-block__inner">
    {% render 'image',
      image: block.settings.image,
      sizes: image_sizes,
      include_placeholder: true,
      allowed_to_round: block.settings.enable_corner_radius
    -%}
  </div>
</div>
